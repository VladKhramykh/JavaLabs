package app.Servlets;import app.Entities.User;import app.db.DataBaseHandler;import javax.jws.soap.SOAPBinding;import javax.servlet.RequestDispatcher;import javax.servlet.ServletException;import javax.servlet.http.Cookie;import javax.servlet.http.HttpServlet;import javax.servlet.http.HttpServletRequest;import javax.servlet.http.HttpServletResponse;import java.io.IOException;import java.sql.SQLException;import java.text.SimpleDateFormat;import java.util.ArrayList;import java.util.Collection;import java.util.Date;public class HomeServlet extends HttpServlet {    protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {        System.out.println("Home servlet doPost");        Date date = new Date();        SimpleDateFormat formatForDateNow = new SimpleDateFormat("E yyyy.MM.dd 'и время' hh:mm:ss a zzz");        String dateString = "Текущая дата " + formatForDateNow.format(date);        request.setAttribute("date", dateString);        String button = request.getParameter("button");        if (button != null && button.equals("logOut")) {            Cookie cookie = new Cookie("currentUser", null);            response.addCookie(cookie);            System.out.println("cookies is clear");            response.sendRedirect("auth");        } else {            RequestDispatcher requestDispatcher = request.getRequestDispatcher("views/home.jsp");            requestDispatcher.forward(request, response);        }    }    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {        System.out.println("Home servlet doGet");        String mailCookie = null;        Cookie[] cookies = request.getCookies();        Date date = new Date();        SimpleDateFormat formatForDateNow = new SimpleDateFormat("E yyyy.MM.dd 'и время' hh:mm:ss a zzz");        String dateString = "Текущая дата " + formatForDateNow.format(date);        request.setAttribute("date", dateString);        String mail = (String) request.getAttribute("userMail");        DataBaseHandler dataBaseHandler = new DataBaseHandler();        try {            User user = dataBaseHandler.getByMail(mail);            Collection<User> users = dataBaseHandler.getAllUsers();            request.setAttribute("user", user);            request.setAttribute("users", users);        } catch (SQLException e) {            System.out.println("SQL Exception in HomeDoGet");        }        RequestDispatcher requestDispatcher = request.getRequestDispatcher("views/home.jsp");        requestDispatcher.forward(request, response);    }}